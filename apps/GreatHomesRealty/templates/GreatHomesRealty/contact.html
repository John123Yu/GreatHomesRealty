<html>
<head>
	<title>Contact Agent</title>
</head>
{% load staticfiles %}
	<meta name="viewport" content="width=device-width, initial-scale=0.5">
	<script src = "{% static '/js/jquery.js' %}" type="text/javascript"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<link rel="stylesheet" type="text/css" href="{% static 'GreatHomesRealty/ionicons.min.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
<style type="text/css">
	.third {
		background: linear-gradient(rgba(250, 197, 100, .95), rgba(250, 197, 100, .95));
		border-radius: 5%;
		padding: 2%;
		margin-top: 4%;
	}
	.error {
		color: red;
		display: block;
		margin-left: 17%;
	    margin-top: 0%;
	    margin-bottom: 8px;
	}
	.success {
		color: green;
		display: block;
	    margin-left: 17%;
	    margin-top: 0%;
	    margin-bottom: 8px;
	}
</style>
<body>
	{% if request.session.login > 0 %}
	<header>
		<ul>
			<li><a href="{%url 'GreatHomes:index' %}">HomePage</a></li>
			<li><a href="{%url 'UserDashboard:index' %}">DashBoard</a></li>
			<li><a href="{%url 'UserDashboard:editProfileDisplay' %}">Edit Profile</a></li>
			<li><a href="{%url 'GreatHomes:showAgentListing' id=request.session.login %}">Your Profile</a></li>
			<li><a href="{%url 'GreatHomes:showAllListing' %}">Listings</a></li>
			<li><a href="{%url 'GreatHomes:addListingDisplay' %}">Add Listing</a></li>
		{% if user.user_level == "Admin" %}
			<li><a href="{%url 'UserDashboard:createDisplay' %}">Add New Agent</a></li>
		{% endif %}
			<li><a href="{%url 'UserDashboard:logout' %}">Log Off</a></li>
		</ul>
	</header>
	{% endif %}
	<div class = "header">
		<div class = "container-fluid">
			<div class = "col-sm-5">
				<h1><a href="{%url 'GreatHomes:index' %}"><i class = "ion-ios-home"></i> Great Homes Realty</a></h1>
			</div>
			<div class = "col-sm-7 navlinks">
				<ul>
					<li>
						  <a class="dropdown-toggle" data-toggle="dropdown">All Listings
						  <span class="caret"></span></a>
						  <ul class="dropdown-menu">
						    <li><a href="{%url 'GreatHomes:showAllListing' %}">For Sale</a></li>
						    <li><a href="{%url 'GreatHomes:showAllRentals' %}">For Rent</a></li>
						  </ul>
					</li>
					<li>
						  <a class="dropdown-toggle" data-toggle="dropdown">Buying
						  <span class="caret"></span></a>
						  <ul class="dropdown-menu">
						    <li><a href="{%url 'GreatHomes:buying' %}">Buying a Home</a></li>
						    <li><a href="{%url 'GreatHomes:mortgage' %}">Mortgages</a></li>
						    <li><a href="{%url 'GreatHomes:owningHome' %}">Owning A Home</a></li>
						  </ul>
					</li>
					<li>
						<a class="dropdown-toggle" data-toggle="dropdown">Selling
						  <span class="caret"></span></a>
						  <ul class="dropdown-menu">
						    <li><a href="{%url 'GreatHomes:selling' %}">Selling</a></li>
						    <li><a href="{%url 'GreatHomes:investing' %}">Investing</a></li>
						  </ul>
					<li><a href="{%url 'GreatHomes:aboutUs' %}">About Us</a></li>
					<li><a href="{%url 'GreatHomes:suscribeDisplay' %}">Newsfeed</a></li>
					<li><a href="{%url 'login:index' %}">Login</a></li>
				</ul>
			</div>
		</div>
	</div>

	<div class = "container third">
	<div class = "row">
	<div class = "col-md-12">
		<h3><i class = "ion-email"></i> Contact Us / Request Information: </h3>
	<form action="" method='post' class = "sendMail form-horizontal">
        {% csrf_token %}
        <div class = "sendMailAjax">
        	<p class = 'error allInputLengths'></p>
        	<p class = 'success'></p>
        <div class = "form-group">
            <label for = "first_name" class = "col-sm-2 control-label">First Name:</label>
            <div class = "col-sm-8">
              <input type='text' name='first_name' class = "form-control" id = "first_name" placeholder = "First Name">
            </div>
          </div>
          <div class = "form-group">
            <label for = "last_name" class = "col-sm-2 control-label">Last Name:</label>
            <div class = "col-sm-8">
              <input type='text' name='last_name' class = "form-control" id = "last_name" placeholder = "Last Name">
            </div>
          </div>
          <p class = 'error InvalidPhone'></p>
          <div class = "form-group">
            <label for = "phone" class = "col-sm-2 control-label">Phone (555)-555-5555:</label>
            <div class = "col-sm-8">
              <input type='text' name='phone' class = "form-control" id = "phone" placeholder = "Phone Number">
            </div>
          </div>
          <p class = 'error InvalidEmail'></p>
        <div class = "form-group">
          <label for = "email" class = "col-sm-2 control-label">Your Email:</label>
          <div class = "col-sm-8">
            <input type='text' name='email' class = "form-control" id = "email" placeholder = "Email">
          </div>
        </div>
          <div class="form-group">
            <label for="message" class = "col-sm-2 control-label">Your Question/Message:</label>
            <div class = "col-sm-8">
            <textarea class="form-control" rows="5" name="message" id="message"></textarea>
           </div>
         </div>
   </div>
          <div class="form-group">
            <label for="submit" class="col-sm-2"></label>
            <div class = "col-sm-8">
            <input id = "submit" type='submit' value='Send Message' class = "btn btn-success">
           </div>
         </div>
    </form> 
	</div>
	</div>
	</div>


	<div class = "footer">
		<div class = "container-fluid">
		<div class = "row">
			<div class = "col-xs-3">
				<address>
				Principal Broker: Bill Yu<br>
				Cell: (410)-984-6661<br>
				Email: BillYu99@gmail.com <br>
				9822 Tenney Ct <br> Ellicott City, MD 21042
				</address>
			</div>
			<div class = "col-xs-8 col-xs-offset-1 footerlist">
				<ul>
					<li><a href="{%url 'GreatHomes:index' %}">Home</a></li>
					<li><a href="{%url 'GreatHomes:buying' %}">Buying</a></li>
					<li><a href="{%url 'GreatHomes:selling' %}">Selling</a></li>
					<li><a href="{%url 'GreatHomes:aboutUs' %}">About Us</a></li>
					<li><a href="{%url 'GreatHomes:suscribeDisplay' %}">Newsfeed</a></li>
				</ul>
			</div>
		</div>
		</div>
	</div>
</body>
<script type="text/javascript">
	$('.sendMail').on('submit', function(e){
	    e.preventDefault()
	    $.ajax({
	      url: '/sendMail/' + "0",
	      method: 'post',
	      data: $(this).serialize(),
	      success: function(serverResponse){
		      if(!serverResponse['InvalidEmail']) {
	            $('.InvalidEmail').html("")
		      } else {
		         $('.InvalidEmail').html(serverResponse['InvalidEmail'])
		      }
		      if(!serverResponse['InvalidPhone']) {
	            $('.InvalidPhone').html("")
		      } else {
		         $('.InvalidPhone').html(serverResponse['InvalidPhone'])
		      }
		      if(!serverResponse['allInputLengths']) {
	            $('.allInputLengths').html("")
		      } else {
		         $('.allInputLengths').html(serverResponse['allInputLengths'])
		      }
		      if(!serverResponse['success']) {
	            $('.success').html("")
		      } else {
		         $('.success').html(serverResponse['success'])
		      }
	      }
	    })
	  });
</script>
</html>